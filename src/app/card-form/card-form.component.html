<div [formGroup]="form" #formDir="ngForm" class="form-container">
  <label for="name">C4RDHOLDER NAME</label>
  <input type="text" formControlName="name" class="input" placeholder="e.g. Jane Appleseed" maxlength="45" [ngClass]="{'errorInput' : name.invalid && (name.dirty || name.touched)}">
  <div *ngIf="name.invalid && (name.dirty || name.touched)">
    <div *ngIf="this.name.errors?.['required']" class="errorMessage">
      Can't be blank
    </div>
  </div>

  <label for="number">C4RD NUMBER</label>
  <input type="text" formControlName="number" class="input" placeholder="e.g. 1234 5678 9123 0000" maxlength="19" [ngClass]="{'errorInput' : number.invalid && (number.dirty || number.touched)}">
  <div *ngIf="number.invalid && (number.dirty || number.touched)">
    <div *ngIf="this.number.errors?.['required']" class="errorMessage">
      Can't be blank
    </div>

    <div *ngIf="this.number.errors?.['numberFormat']" class="errorMessage">
      Wrong format, numbers only
    </div>
  </div>

  <div class="exp-date-and-cvc-wrapper">

    <div class="exp-month-and-exp-year-wrapper">
      <label>EXP. DATE (MM/YY)</label>
      <div>
        <input type="text" formControlName="expDateMonth" class="input month-and-year-input" placeholder="MM" maxlength="2" [ngClass]="{'errorInput' : expDateMonth.invalid && (expDateMonth.dirty || expDateMonth.touched)}">
        <input type="text" formControlName="expDateYear" class="input month-and-year-input" placeholder="YY" maxlength="2" [ngClass]="{'errorInput' : expDateYear.invalid && (expDateYear.dirty || expDateYear.touched)}">
      </div>
      <div *ngIf="(expDateMonth.invalid && (expDateMonth.dirty || expDateMonth.touched)) || (expDateYear.invalid && (expDateYear.dirty || expDateYear.touched))">
        <div *ngIf="this.expDateMonth.errors?.['required'] || this.expDateYear.errors?.['required']" class="errorMessage">
          Can't be blank
        </div>
        <div *ngIf="this.expDateMonth.errors?.['expDateMonthFormat'] || this.expDateYear.errors?.['expDateYearFormat']" class="errorMessage">
          Type a valid date
        </div>
      </div>
    </div>

    <div class="cvc-wrapper">
      <label for="cvc">CVC</label>
      <input type="text" formControlName="cvc" class="input" placeholder="e.g. 123" maxlength="3" [ngClass]="{'errorInput' : cvc.invalid && (cvc.dirty || cvc.touched)}">
      <div *ngIf="cvc.invalid && (cvc.dirty || cvc.touched)">
        <div *ngIf="this.cvc.errors?.['required']" class="errorMessage">
          Can't be blank
        </div>
        <div *ngIf="this.cvc.errors?.['cvcFormat']" class="errorMessage">
          Type a valid cvc
        </div>
      </div>
    </div>
  </div>

  <button class="confirm-btn" type="submit" [disabled]="form.invalid" (click)="confirm()">Confirm</button>
</div>
